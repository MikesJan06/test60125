<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#ffffff">
  <title>Tvůrce Příběhů</title>
  <link rel="stylesheet" href="style.css"
</head>
<body>
  <header>
    <h1>Tvůrce Příběhů</h1>
  </header>
  <main>
    <!-- Hlavní stránka -->
    <section id="index" class="hidden">
      <h2>Váš Příběh</h2>
      <article>
        <h3>Začátek</h3>
        <p id="zacatek-text"></p>
        <h3>Zvrat</h3>
        <p id="zvrat-text"></p>
        <h3>Závěr</h3>
        <p id="zaver-text"></p>
      </article>
      <button onclick="showSetup()">Upravit Příběh</button>
    </section>

    <!-- Nastavovací stránka -->
    <section id="setup">
      <h2>Vytvořte svůj Příběh</h2>
      <label for="zacatek">Začátek</label>
      <textarea id="zacatek"></textarea>

      <label for="zvrat">Zvrat</label>
      <textarea id="zvrat"></textarea>

      <label for="zaver">Závěr</label>
      <textarea id="zaver"></textarea>

      <button onclick="saveStory()">Uložit Příběh</button>
    </section>
  </main>
  <script>
    // Načítání uložených dat při spuštění
    document.addEventListener("DOMContentLoaded", () => {
      const zacatek = localStorage.getItem("zacatek") || "";
      const zvrat = localStorage.getItem("zvrat") || "";
      const zaver = localStorage.getItem("zaver") || "";

      document.getElementById("zacatek").value = zacatek;
      document.getElementById("zvrat").value = zvrat;
      document.getElementById("zaver").value = zaver;

      if (zacatek || zvrat || zaver) {
        showIndex();
      }
    });

    function saveStory() {
      const zacatek = document.getElementById("zacatek").value;
      const zvrat = document.getElementById("zvrat").value;
      const zaver = document.getElementById("zaver").value;

      localStorage.setItem("zacatek", zacatek);
      localStorage.setItem("zvrat", zvrat);
      localStorage.setItem("zaver", zaver);

      showIndex();
    }

    function showIndex() {
      document.getElementById("zacatek-text").innerText = localStorage.getItem("zacatek") || "";
      document.getElementById("zvrat-text").innerText = localStorage.getItem("zvrat") || "";
      document.getElementById("zaver-text").innerText = localStorage.getItem("zaver") || "";

      document.getElementById("setup").classList.add("hidden");
      document.getElementById("index").classList.remove("hidden");
    }

    function showSetup() {
      document.getElementById("index").classList.add("hidden");
      document.getElementById("setup").classList.remove("hidden");
    }
  </script>
</body>
</html>